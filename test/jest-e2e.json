{
    "moduleFileExtensions": [
        "js",
        "json",
        "ts"
    ],
    "rootDir": "..",
    "testEnvironment": "node",
    "testRegex": ".e2e-spec.ts$",
    "transform": {
        "^.+\\.(t|j)s$": [
            "ts-jest",
            {
                "tsconfig": {
                    "allowJs": true
                }
            }
        ]
    },
    "transformIgnorePatterns": [
        "node_modules/(?!uuid)"
    ],
    "globalSetup": "<rootDir>/test/jest-global-setup.ts",
    "globalTeardown": "<rootDir>/test/jest-global-teardown.ts",
    "setupFilesAfterEnv": [
        "<rootDir>/test/setup.ts"
    ],
    "moduleNameMapper": {
        "^uuid$": "<rootDir>/test/mocks/uuid.ts",
        "^@modules/(.*)$": "<rootDir>/src/modules/$1",
        "^@common/(.*)$": "<rootDir>/src/common/$1",
        "^@infra/(.*)$": "<rootDir>/src/infra/$1"
    },
    "testTimeout": 60000,
    "maxWorkers": 1,
    "collectCoverageFrom": [
        "src/modules/**/core/**/*.ts",
        "src/modules/**/api/**/*.ts",
        "src/modules/**/infra/**/*.ts",
        "!**/*.module.ts",
        "!**/*.dto.ts",
        "!**/*.spec.ts",
        "!src/main.ts"
    ],
    "coverageDirectory": "coverage/e2e"
}